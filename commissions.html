<!-- commissions.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <title>Coffee Byte Dev - Commissions</title>
  <meta charset="utf-8" />
  <link rel="shortcut icon" href="favicon.png" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="assets/css/styles.css" />

  <!-- Meta Tags -->
  <meta name="description" content="Request custom development work from osyra42 - Discord bots, VTuber models, 3D printing, and more" />
  <meta name="keywords" content="osyra42, commissions, discord bot, vtuber, 3d printing, web development" />
  <meta name="author" content="osyra42" />
  <meta property="og:title" content="Coffee Byte Dev - Commissions" />
  <meta property="og:description" content="Request custom development work - Discord bots, VTuber models, and more" />
  <meta property="og:image" content="https://coffeebyte.dev/favicon.png" />
  <meta property="og:url" content="https://coffeebyte.dev/commissions" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Coffee Byte Dev - Commissions" />
  <meta name="twitter:description" content="Request custom development work - Discord bots, VTuber models, and more" />
  <meta name="twitter:image" content="https://coffeebyte.dev/favicon.png" />

  <script src="assets/js/sidebar.js" defer></script>
  <script src="assets/js/scripts.js" defer></script>
  <script src="assets/clutter-main/clutter.js" defer></script>
  <script src="assets/js/mobile.js" defer></script>
  <script src="assets/js/commissions.js"></script>

  <script>
    image = "commissions.jpg";
    title = "Commissions";
  </script>

  <style>
    .service-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin: 20px 0;
    }

    .service-card {
      background: #5d4037;
      border: 2px solid #8b7355;
      border-radius: 8px;
      padding: 20px;
      cursor: pointer;
      transition: all 0.3s ease;
      text-align: center;
      color: #f8e5c8;
    }

    .service-card:hover {
      background: #6f4e37;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(139, 69, 19, 0.3);
      border-color: #d2691e;
    }

    .service-card.selected {
      background: #8b4513;
      border-color: #d2691e;
      box-shadow: 0 0 8px rgba(210, 105, 30, 0.4);
    }

    .service-icon {
      font-size: 3em;
      margin-bottom: 10px;
    }

    .service-name {
      font-weight: bold;
      font-size: 1.2em;
      margin-bottom: 10px;
      color: #f8e5c8;
    }

    .service-description {
      font-size: 0.9em;
      color: #d2b48c;
    }

    .form-group {
      margin-bottom: 20px;
    }

    .form-group label {
      display: block;
      font-weight: bold;
      margin-bottom: 8px;
      color: #f8e5c8;
    }

    .form-group input[type="text"],
    .form-group input[type="email"],
    .form-group textarea,
    .form-group select {
      width: 100%;
      padding: 10px 12px;
      border: 2px solid #8b7355;
      border-radius: 6px;
      background: #5d4037;
      color: #f8e5c8;
      font-family: inherit;
      font-size: 16px;
      transition: all 0.2s ease;
    }

    .form-group input:focus,
    .form-group textarea:focus,
    .form-group select:focus {
      outline: none;
      border-color: #d2691e;
      box-shadow: 0 0 0 2px rgba(210, 105, 30, 0.2);
    }

    .form-group textarea {
      min-height: 120px;
      resize: vertical;
    }

    .form-group select[multiple] {
      min-height: 120px;
      padding: 8px;
    }

    .form-group select[multiple] option {
      padding: 6px;
      margin-bottom: 2px;
      border-radius: 4px;
    }

    .form-group select[multiple] option:checked {
      background-color: #8b4513;
      color: #f8e5c8;
    }

    .form-group small {
      display: block;
      margin-top: 4px;
      font-size: 12px;
      color: #d2b48c;
    }

    .required {
      color: #c75b7a;
      font-weight: bold;
    }

    .form-actions {
      display: flex;
      gap: 12px;
      margin-top: 20px;
      flex-wrap: wrap;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 10px 16px;
      min-width: 180px;
      height: 44px;
      border: 2px solid #8b7355;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.2s ease;
      font-family: inherit;
      font-size: 16px;
      text-decoration: none;
    }

    .btn-primary {
      background: #8b4513;
      color: #f8e5c8;
      border-color: #d2691e;
    }

    .btn-primary:hover {
      background: #d2691e;
      transform: translateY(-1px);
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }

    .btn-secondary {
      background: #f5f5dc;
      color: #3c2a1e;
      border-color: #8b7355;
    }

    .btn-secondary:hover {
      background: #d2b48c;
      transform: translateY(-1px);
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }

    #form-container {
      display: none;
    }

    #form-preview {
      background: #5d4037;
      color: #f8e5c8;
      border: 1px solid #8b7355;
      padding: 15px;
      border-radius: 6px;
      margin-top: 20px;
      white-space: pre-wrap;
      font-family: 'Courier New', monospace;
      font-size: 14px;
      line-height: 1.5;
      max-height: 400px;
      overflow-y: auto;
    }

    .hidden {
      display: none;
    }

    .status-banner {
      text-align: center;
      padding: 15px 20px;
      border-radius: 8px;
      margin-bottom: 20px;
      font-weight: bold;
      font-size: 1.2em;
    }

    .status-banner.open {
      background: rgba(75, 139, 69, 0.2);
      border: 2px solid #4b8b45;
      color: #7cb576;
    }

    .status-banner.closed {
      background: rgba(139, 69, 69, 0.2);
      border: 2px solid #8b4545;
      color: #c75b5b;
    }

    .status-banner span {
      font-family: 'Peppermint Pen', cursive, Arial, sans-serif;
    }

    .policy-box {
      background: rgba(139, 69, 19, 0.1);
      border-left: 4px solid #d2691e;
      padding: 15px;
      margin: 20px 0;
      border-radius: 4px;
    }

    .policy-box p {
      margin: 10px 0;
      color: #f8e5c8;
    }

    .policy-box strong {
      color: #d2691e;
    }

    .policy-box a {
      color: #d2691e;
      text-decoration: underline;
    }

    .policy-box a:hover {
      color: #b68d40;
    }

    @media (max-width: 600px) {
      .service-grid {
        grid-template-columns: 1fr;
      }

      .btn {
        width: 100%;
      }
    }
  </style>
</head>
<body>

  <sidebar>
    <!-- Placeholder for dynamic sidebar content -->
  </sidebar>

  <!-- Main Content -->
  <main>
    <!-- Change class to "closed" when not accepting commissions -->
    <div class="status-banner open">
      <span>Commissions are OPEN</span>
    </div>

    <article>
      <header>
        <h3>Commission Policy</h3>
      </header>
      <section>
        <div class="policy-box">
          <!-- Pricing & Timeline -->
          <p><strong>Pricing:</strong> All commissions are taken at my discretion for free</p>
          <p><strong>Free Timeline:</strong> ~3 months on average</p>
          <p><strong>Priority:</strong> $20 guarantees completion in less than a week</p>
          <p><strong>Payment:</strong> Optional payments via the <a href="donate.html">donate page</a></p>

          <!-- Request Rules -->
          <p><strong>Request Limit:</strong> One active request per person</p>
          <p><strong>Acceptance:</strong> Based on interest, availability, and skill alignment</p>
          <p><strong>Scope Changes:</strong> May reset your position in the queue</p>

          <!-- Terms -->
          <p><strong>Refunds:</strong> No refunds on priority payments once work begins</p>
          <p><strong>Right to Decline:</strong> I may decline any request for any reason</p>
        </div>
        <p>
          Factors that influence acceptance include complexity, scope, technical requirements, and whether the project presents an interesting challenge or learning opportunity for me. View <a href="examples.html">examples of my previous work</a> to get an idea of what I can create.
        </p>
      </section>
    </article>

    <article>
      <header>
        <h3>Select a Service</h3>
      </header>
      <section>
        <div class="service-grid" id="service-grid"></div>
      </section>
    </article>

    <article id="form-container">
      <header>
        <h3>Request Details</h3>
      </header>
      <section>
        <form id="commission-form">
          <div class="form-group">
            <label for="contact-name">Your Name <span class="required">*</span></label>
            <input type="text" id="contact-name" name="contact-name" required placeholder="Enter your name">
          </div>

          <div class="form-group">
            <label for="contact-method">Contact Method <span class="required">*</span></label>
            <select id="contact-method" name="contact-method" required>
              <option value="">Select contact method</option>
              <option value="discord">Discord</option>
              <option value="email">Email</option>
              <option value="other">Other</option>
            </select>
          </div>

          <div class="form-group">
            <label for="contact-info">Contact Information <span class="required">*</span></label>
            <input type="text" id="contact-info" name="contact-info" required placeholder="Discord username, email, etc.">
          </div>

          <div id="dynamic-questions"></div>

          <div class="form-group">
            <label for="additional-notes">Additional Notes (optional)</label>
            <textarea id="additional-notes" name="additional-notes" placeholder="Any other information you'd like to share"></textarea>
          </div>

          <div class="form-group">
            <label for="priority-payment">
              <input type="checkbox" id="priority-payment" name="priority-payment">
              I am interested in making a $20 payment for priority processing
            </label>
          </div>

          <div id="form-preview" class="hidden"></div>

          <div class="form-actions">
            <button type="button" class="btn btn-primary" onclick="generatePreview()">Preview Request</button>
            <button type="button" class="btn btn-secondary" onclick="downloadRequest()">Download Request</button>
            <button type="button" class="btn btn-secondary" onclick="copyRequest()">Copy to Clipboard</button>
          </div>
        </form>
      </section>
    </article>
  </main>

  <script>
    let selectedService = null;

    function loadServices() {
      const grid = document.getElementById('service-grid');
      const services = window.commissionsData.services;

      for (const [key, service] of Object.entries(services)) {
        const card = document.createElement('div');
        card.className = 'service-card';
        card.onclick = () => selectService(key);

        card.innerHTML = `
          <div class="service-icon">${service.icon}</div>
          <div class="service-name">${service.name}</div>
          <div class="service-description">${service.description}</div>
        `;

        grid.appendChild(card);
      }
    }

    function selectService(serviceKey) {
      selectedService = serviceKey;
      const service = window.commissionsData.services[serviceKey];

      // Update card selection
      document.querySelectorAll('.service-card').forEach(card => {
        card.classList.remove('selected');
      });
      event.target.closest('.service-card').classList.add('selected');

      // Show form
      document.getElementById('form-container').style.display = 'block';

      // Load dynamic questions
      const questionsContainer = document.getElementById('dynamic-questions');
      questionsContainer.innerHTML = '';

      service.questions.forEach(question => {
        const formGroup = document.createElement('div');
        formGroup.className = 'form-group';

        const label = document.createElement('label');
        label.setAttribute('for', question.id);
        label.textContent = question.label;
        formGroup.appendChild(label);

        let input;

        switch (question.type) {
          case 'text':
            input = document.createElement('input');
            input.type = 'text';
            input.id = question.id;
            input.name = question.id;
            if (question.placeholder) input.placeholder = question.placeholder;
            break;

          case 'textarea':
            input = document.createElement('textarea');
            input.id = question.id;
            input.name = question.id;
            if (question.placeholder) input.placeholder = question.placeholder;
            break;

          case 'select':
            input = document.createElement('select');
            input.id = question.id;
            input.name = question.id;

            const defaultOption = document.createElement('option');
            defaultOption.value = '';
            defaultOption.textContent = 'Select an option';
            input.appendChild(defaultOption);

            question.options.forEach(option => {
              const opt = document.createElement('option');
              opt.value = option;
              opt.textContent = option;
              input.appendChild(opt);
            });
            break;

          case 'multiselect':
            input = document.createElement('select');
            input.id = question.id;
            input.name = question.id;
            input.multiple = true;

            question.options.forEach(option => {
              const opt = document.createElement('option');
              opt.value = option;
              opt.textContent = option;
              input.appendChild(opt);
            });

            const small = document.createElement('small');
            small.textContent = 'Hold Ctrl/Cmd to select multiple options';
            formGroup.appendChild(label);
            formGroup.appendChild(input);
            formGroup.appendChild(small);
            questionsContainer.appendChild(formGroup);
            return;
        }

        formGroup.appendChild(input);
        questionsContainer.appendChild(formGroup);
      });

      // Scroll to form
      document.getElementById('form-container').scrollIntoView({ behavior: 'smooth' });
    }

    function generatePreview() {
      const service = window.commissionsData.services[selectedService];
      const form = document.getElementById('commission-form');
      const formData = new FormData(form);

      let preview = `===== ${service.name.toUpperCase()} COMMISSION REQUEST =====\n\n`;
      preview += `CONTACT INFORMATION:\n`;
      preview += `-----------------------------------\n`;
      preview += `Name: ${formData.get('contact-name')}\n`;
      preview += `Contact Method: ${formData.get('contact-method')}\n`;
      preview += `Contact Info: ${formData.get('contact-info')}\n\n`;

      preview += `SERVICE DETAILS:\n`;
      preview += `-----------------------------------\n`;

      service.questions.forEach(question => {
        const value = formData.get(question.id);
        if (value) {
          preview += `${question.label}: ${value}\n`;
        }
      });

      const additionalNotes = formData.get('additional-notes');
      if (additionalNotes) {
        preview += `\nADDITIONAL NOTES:\n`;
        preview += `-----------------------------------\n`;
        preview += `${additionalNotes}\n`;
      }

      const priorityPayment = formData.get('priority-payment');
      if (priorityPayment) {
        preview += `\nPRIORITY PROCESSING:\n`;
        preview += `-----------------------------------\n`;
        preview += `Interested in $20 priority payment: Yes\n`;
      }

      preview += `\n-----------------------------------\n`;
      preview += `Form generated: ${new Date().toLocaleString()}\n`;

      const previewEl = document.getElementById('form-preview');
      previewEl.textContent = preview;
      previewEl.classList.remove('hidden');
    }

    function downloadRequest() {
      generatePreview();
      const preview = document.getElementById('form-preview').textContent;
      const service = window.commissionsData.services[selectedService];
      const name = document.getElementById('contact-name').value;
      const date = new Date().toISOString().slice(0, 10);

      const blob = new Blob([preview], { type: 'text/plain' });
      const a = document.createElement('a');
      a.href = URL.createObjectURL(blob);
      a.download = `${service.name.toLowerCase().replace(/\s+/g, '_')}_request_${name}_${date}.txt`;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
    }

    function copyRequest() {
      generatePreview();
      const preview = document.getElementById('form-preview').textContent;

      navigator.clipboard.writeText(preview).then(() => {
        alert('Request copied to clipboard!');
      }).catch(err => {
        alert('Error copying to clipboard: ' + err);
      });
    }

    // Initialize on page load
    window.addEventListener('DOMContentLoaded', loadServices);
  </script>

</body>
</html>
